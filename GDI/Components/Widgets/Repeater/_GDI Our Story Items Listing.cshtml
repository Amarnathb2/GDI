@using CMS.DocumentEngine
@using Kentico.PageBuilder.Web.Mvc
@model GDI.Components.Widgets.Repeater.RepeaterPropertiesViewModel
@using CMS.MacroEngine;
@using System.Globalization;
@using CMS.SiteProvider;
@inject IPageAttachmentUrlRetriever attachmentUrlRetriever

@if (Model.PageTypeData != null && Model.Visible == true)
{

    @foreach (var Items in Model.PageTypeData)
    {
        bool isContainSection = Items.GetBooleanValue("IsContainSection", false);
        string image = Items.GetStringValue("Image", "").Replace('~', ' ');
        @if (isContainSection == false)
        {
            <section aria-label="A world of care"
         class="common-content white-content mrgTB20 @Html.Raw(Items.GetStringValue("CSSBackgroundClassOne", ""))">
                <div class="grid-x align-middle">
                    <div class="cell small-12 medium-6 feature-box"
             style="background-image: url('@image')"></div>
                    <div class="cell small-12 medium-6 align-middle text-center feature-content">
                        <h2>@Html.Raw(Items.GetStringValue("Title", ""))</h2>
                        <p>
                            @Html.Raw(Items.GetStringValue("Description", ""))
                        </p>
                        <a aria-label="A world of care More..."
               href="@Html.Raw(Items.GetStringValue("ButtonUrlOne", ""))"
               target="_@Html.Raw(Items.GetStringValue("ButtonTargetOne", ""))"
               class="button">@Html.Raw(Items.GetStringValue("ButtonTextOne", ""))</a>
                    </div>
                </div>
            </section>
        }
        else
        {
            <section aria-label="Safety &amp; Quality first"
         class="home-section white-content common-content mrgTB20"
         data-interchange="[@image, default],[@image, small], [@image, medium], [@image, large],[@image, xlarge],"
         data-resize="dupkrh-interchange"
         id="dupkrh-interchange"
         data-e="8liuhr-e"
         data-events="resize"
         style="
    background-image: url('@image');
  ">
                <div class="grid-x">
                    <div class="cell small-12 medium-6">
                        <h2>@Html.Raw(Items.GetStringValue("Title", ""))</h2>
                        <div class="section-box @Html.Raw(Items.GetStringValue("CSSBackgroundClassOne", ""))">
                            <p>
                                @Html.Raw(Items.GetStringValue("Description", ""))
                            </p>
                            <a href="@Html.Raw(Items.GetStringValue("ButtonUrlOne", ""))"
                   aria-label="Safety &amp; Quality first More..."
                   class="button">@Html.Raw(Items.GetStringValue("ButtonTextOne", ""))</a>
                        </div>
                    </div>
                </div>
            </section>
        }
    }

}
