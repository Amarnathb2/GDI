(function ($) {

    var settings = {};

    $.cookieMessage = function (options) {
        var defaults = {
            temporaryMessage: "",
            permanentMessage: "",
            acceptButton: "Accept",
            backgroundColor: '#000',
            fontSize: '16px',
            fontColor: '#fff',
            btnBackgroundColor: '#D8D8D8',
            btnFontSize: '16px',
            btnFontColor: '#000',
            linkFontColor: '#fff',
            cookieName: 'ccpa_cookie'
        };

        settings = $.extend({}, defaults, options);
        ready();
    }

    function ready() {
        var coo = getCookie(settings.cookieName);
        if (coo != "true") {
            $(document).ready(function () {
                cookieMessageGenerate();
            })
        }
    }

    function setCookie(c_name, value) {
        return localStorage.setItem(c_name, value);
    }

    function getCookie(c_name) {
        return localStorage.getItem(c_name);
    }

    function cookieMessageGenerate() {
        var html = '<div class="cookie-msg"> <div class="row" id= "cookie-msg" style= "position: fixed; background-color: rgb(100, 100, 103); color: rgb(255, 255, 255); font-size: 16px;" ><div class="small-12 columns">' + settings.temporaryMessage + '</div><div class="medium-8 columns"><span class="msg">' + settings.permanentMessage + '</span></div>' + '<div class="medium-4 columns"><a href="" class="btn-aceptar" style="color: rgb(0, 0, 0); text-decoration: none; background-color: rgb(255, 255, 255); font-size: 16px;">' + settings.acceptButton + '</a></div></div></div > ';
        $(".cookie-msg").remove();
        $("body").append(html);

        $("#cookie-msg").css({
            'position': 'fixed',
            'background-color': settings.backgroundColor,
            'color': settings.fontColor,
            'font-size': settings.fontSize,
        });

        $("#cookie-msg a").css({
            'color': settings.linkFontColor,
            'text-decoration': 'underline',
        });

        $("#cookie-msg a.btn-aceptar").css({
            'background-color': settings.btnBackgroundColor,
            'color': settings.btnFontColor,
            'font-size': settings.btnFontSize,
            'text-decoration': 'none',
        });

        $("#cookie-msg a.btn-aceptar").on("click", function () {
            var coo = setCookie(settings.cookieName, true);
            $("#cookie-msg").remove();

            return false;
        })
    }

}(jQuery));

